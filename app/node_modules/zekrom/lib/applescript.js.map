{"version":3,"sources":["../src/applescript.js"],"names":["PASTE","applescriptCopy","text","applescriptPaste","result","applescript","switchTab","content","oldClipboard","switchTo","robot","tap","setTimeout"],"mappings":";;;;;;;AAAA;;;;AACA;;AACA;;;;AAEO,IAAMA,kGAAN;;AAEA,IAAMC,4CAAkB,eAAlBA,eAAkB,CAAMC,IAAN,EAAc;AAC3C,QAAM,+BAAeA,IAAf,CAAN;AACD,CAFM;;AAIA,IAAMC,8CAAmB,eAAnBA,gBAAmB,GAAY;AAC1C,MAAMC,SAAS,MAAM,oBAAUC,WAAV,CAAsBL,KAAtB,CAArB;AACA,SAAOI,MAAP;AACD,CAHM;;AAKA,IAAME,gCAAY,eAAZA,SAAY,CAAMC,OAAN,EAAiB;AACxC,MAAMC,eAAe,kCAArB;AACA,QAAMP,gBAAgBM,OAAhB,CAAN;AACA,MAAI,sBAAJ,EAAa;AACX,QAAME,WACJ,wCACA,wBADA,GAEA,qBAFA,GAGA,sBAHA,GAIA,YALF;AAMA,UAAM,oBAAUJ,WAAV,CAAsBI,QAAtB,CAAN;AACA,UAAMN,kBAAN;AACD,GATD,MASO;AACL,UAAM,UAAKO,KAAL,CAAWC,GAAX,CAAe,KAAf,EAAsB,SAAtB,CAAN;AACA,UAAM,UAAKD,KAAL,CAAWC,GAAX,CAAe,GAAf,EAAoB,SAApB,CAAN;AACD;AACDC,aAAW,YAAM;AACfX,oBAAgBO,YAAhB;AACD,GAFD,EAEG,GAFH;AAGD,CAnBM","file":"applescript.js","sourcesContent":["import runScript from \"./runScript\";\nimport { setToClipboard, getFromClipboard } from \"./clipboard\";\nimport { isMac } from \"./platform\";\n\nexport const PASTE = `tell application \"System Events\" to keystroke \"v\" using command down`;\n\nexport const applescriptCopy = async text => {\n  await setToClipboard(text);\n};\n\nexport const applescriptPaste = async () => {\n  const result = await runScript.applescript(PASTE);\n  return result;\n};\n\nexport const switchTab = async content => {\n  const oldClipboard = getFromClipboard();\n  await applescriptCopy(content);\n  if (isMac()) {\n    const switchTo =\n      'tell application \"System Events\" \\n' +\n      \"   key down command \\n\" +\n      \"   keystroke tab \\n\" +\n      \"   key up command \\n\" +\n      \"end tell\\n\";\n    await runScript.applescript(switchTo);\n    await applescriptPaste();\n  } else {\n    await this.robot.tap(\"tab\", \"COMMAND\");\n    await this.robot.tap(\"V\", \"CONTROL\");\n  }\n  setTimeout(() => {\n    applescriptCopy(oldClipboard);\n  }, 500);\n};\n"]}